{"version":3,"sources":["../src/edgeRequestTransform.js"],"names":["edgeRequestTransform","setCacheKey","router","defaults","request","getCacheKey"],"mappings":";;;;;;;AAIA;;;;AAJA;;;;;AAMA;;;;;;AAMe,SAASA,oBAAT,OAAuD;AAAA,MAAvBC,WAAuB,QAAvBA,WAAuB;AAAA,MAAVC,MAAU,QAAVA,MAAU;AACpE;AACAD,EAAAA,WAAW,CAAC,UAAAE,QAAQ,EAAI;AACtB,QAAMC,OAAO,GAAG,6BAAhB;AACA,WAAOF,MAAM,CAACG,WAAP,CAAmBD,OAAnB,EAA4BD,QAA5B,CAAP;AACD,GAHU,CAAX;AAID","sourcesContent":["/**\n * @license\n * Copyright Â© 2017-2018 Moov Corporation.  All rights reserved.\n */\nimport createRequest from './createRequest'\n\n/**\n * Helper for moov_edge_request_transform.js\n * @param {Object} options\n * @param {Function} options.setCacheKey A function to register a callback to set a cache key for the current request.\n * @param {Router} options.router The app's router\n */\nexport default function edgeRequestTransform({ setCacheKey, router }) {\n  // Here we support custom server cache keys via server.key in cache route handlers.\n  setCacheKey(defaults => {\n    const request = createRequest()\n    return router.getCacheKey(request, defaults)\n  })\n}"],"file":"edgeRequestTransform.js"}