{"version":3,"sources":["../src/createRequest.js"],"names":["createRequest","env","path","split","pathname","search","sendResponse","global","body","requestBody","headers","JSON","parse","method","port","host","secure","hostname","host_no_port","protocol"],"mappings":";;;;;;;AAIA;;;;;;;;;;;;AAEA;;;;AAIe,SAASA,aAAT,GAAyB;AAAA,wBACTC,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAe,IAAf,CADS;AAAA;AAAA,MAC9BC,QAD8B;AAAA,MACpBC,MADoB;;AAGtC,SAAO;AACLC,IAAAA,YAAY,EAAEC,MAAM,CAACD,YADhB;AAELE,IAAAA,IAAI,EAAED,MAAM,CAACE,WAFR;AAGLC,IAAAA,OAAO,EAAET,GAAG,CAACS,OAAJ,GAAcC,IAAI,CAACC,KAAL,CAAWX,GAAG,CAACS,OAAf,CAAd,GAAwC,0BAH5C;AAILN,IAAAA,QAAQ,EAARA,QAJK;AAKLC,IAAAA,MAAM,EAAEA,MAAM,cAAOA,MAAP,IAAkB,EAL3B;AAMLQ,IAAAA,MAAM,EAAEZ,GAAG,CAACY,MANP;AAOLC,IAAAA,IAAI,EAAEb,GAAG,CAACc,IAAJ,CAASZ,KAAT,CAAe,GAAf,EAAoB,CAApB,MAA2BF,GAAG,CAACe,MAAJ,GAAa,KAAb,GAAqB,IAAhD,CAPD;AAQLC,IAAAA,QAAQ,EAAEhB,GAAG,CAACiB,YART;AASLC,IAAAA,QAAQ,EAAElB,GAAG,CAACiB,YAAJ,KAAqB,WAArB,GAAmC,OAAnC,GAA6CjB,GAAG,CAACe,MAAJ,GAAa,QAAb,GAAwB,OAT1E;;AAUL,QAAId,IAAJ,GAAW;AACT,aAAOD,GAAG,CAACC,IAAX;AACD;;AAZI,GAAP;AAcD","sourcesContent":["/**\n * @license\n * Copyright Â© 2017-2018 Moov Corporation.  All rights reserved.\n */\nimport getHeaders from \"./getHeaders\"\n\n/**\n * Creates a request object for route handlers from the moovjs environment.\n * @return {Object}\n */\nexport default function createRequest() {\n  const [ pathname, search ] = env.path.split(/\\?/)\n\n  return {\n    sendResponse: global.sendResponse, \n    body: global.requestBody, \n    headers: env.headers ? JSON.parse(env.headers) : getHeaders(), \n    pathname, \n    search: search ? `?${search}` : '',\n    method: env.method, \n    port: env.host.split(/:/)[1] || (env.secure ? '443' : '80'),\n    hostname: env.host_no_port,\n    protocol: env.host_no_port === 'localhost' ? 'http:' : env.secure ? 'https:' : 'http:',\n    get path() {\n      return env.path\n    }\n  }\n}"],"file":"createRequest.js"}